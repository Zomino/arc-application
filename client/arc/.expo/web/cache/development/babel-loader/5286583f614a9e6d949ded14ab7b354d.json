{"ast":null,"code":"var base_url = 'http://127.0.0.1:3000';\nimport axios from 'axios';\n\nfunction fetchFactory(path, options) {\n  return fetch(base_url + path, options).then(function (res) {\n    return res.status < 400 ? res : Promise.reject();\n  }).then(function (res) {\n    return res.json();\n  }).catch(function (err) {\n    return console.log(err);\n  });\n}\n\nfunction createUser(user) {\n  return fetchFactory('/usercreate', {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  });\n  console.log(user);\n}\n\nfunction getUser(email) {\n  return axios.get(base_url + '/user', {\n    params: {\n      identifier: email\n    }\n  }).then(function (res) {\n    return res.data;\n  });\n}\n\nvar ApiService = {\n  createUser: createUser,\n  getUser: getUser\n};\nexport default ApiService;","map":{"version":3,"sources":["/Users/gooseeduardos/Development/codeWorks/senior/arc-app/client/arc/ApiService.tsx"],"names":["base_url","axios","fetchFactory","path","options","fetch","then","res","status","Promise","reject","json","catch","err","console","log","createUser","user","method","headers","body","JSON","stringify","getUser","email","get","params","identifier","data","ApiService"],"mappings":"AAAA,IAAMA,QAAQ,GAAG,uBAAjB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,SAASC,YAAT,CAAsBC,IAAtB,EAAoCC,OAApC,EAAkD;AAEhD,SAAOC,KAAK,CAACL,QAAQ,GAAGG,IAAZ,EAAkBC,OAAlB,CAAL,CACJE,IADI,CACC,UAAAC,GAAG;AAAA,WAAIA,GAAG,CAACC,MAAJ,GAAa,GAAb,GAAmBD,GAAnB,GAAyBE,OAAO,CAACC,MAAR,EAA7B;AAAA,GADJ,EAEJJ,IAFI,CAEC,UAAAC,GAAG;AAAA,WAAIA,GAAG,CAACI,IAAJ,EAAJ;AAAA,GAFJ,EAGJC,KAHI,CAGE,UAAAC,GAAG;AAAA,WAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,GAHL,CAAP;AAKD;;AAED,SAASG,UAAT,CAAoBC,IAApB,EAAgC;AAC9B,SAAOf,YAAY,CAAC,aAAD,EAAgB;AACjCgB,IAAAA,MAAM,EAAE,MADyB;AAEjCC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAFwB;AAKjCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf;AAL2B,GAAhB,CAAnB;AAOAH,EAAAA,OAAO,CAACC,GAAR,CAAYE,IAAZ;AACD;;AAED,SAASM,OAAT,CAAiBC,KAAjB,EAAgC;AAC9B,SAAOvB,KAAK,CAACwB,GAAN,CAAUzB,QAAQ,GAAG,OAArB,EAA8B;AACnC0B,IAAAA,MAAM,EAAE;AACNC,MAAAA,UAAU,EAAEH;AADN;AAD2B,GAA9B,EAIJlB,IAJI,CAIC,UAAAC,GAAG;AAAA,WAAIA,GAAG,CAACqB,IAAR;AAAA,GAJJ,CAAP;AAKD;;AAKD,IAAMC,UAAU,GAAG;AAACb,EAAAA,UAAU,EAAVA,UAAD;AAAaO,EAAAA,OAAO,EAAPA;AAAb,CAAnB;AAEA,eAAeM,UAAf","sourcesContent":["const base_url = 'http://127.0.0.1:3000'\nimport { User } from './types/userType'\nimport axios from 'axios';\n\n\nfunction fetchFactory(path: string, options: any) {\n\n  return fetch(base_url + path, options)\n    .then(res => res.status < 400 ? res : Promise.reject())\n    .then(res => res.json())\n    .catch(err => console.log(err))\n\n}\n\nfunction createUser(user: User) {\n  return fetchFactory('/usercreate', {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(user)\n  })\n  console.log(user)\n}\n\nfunction getUser(email: string) {\n  return axios.get(base_url + '/user', {\n    params: {\n      identifier: email\n    }\n  }).then(res => res.data)\n}\n\n\n\n\nconst ApiService = {createUser, getUser}\n\nexport default ApiService"]},"metadata":{},"sourceType":"module"}