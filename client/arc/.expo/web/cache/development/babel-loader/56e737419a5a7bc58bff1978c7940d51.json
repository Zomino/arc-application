{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ApiService from \"../ApiService\";\nimport { useNavigation } from '@react-navigation/native';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function SingleEventScreen(props) {\n  var navigation = useNavigation();\n  console.log('props', props);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      event = _useState2[0],\n      setEvent = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      eventUsers = _useState4[0],\n      setEventUsers = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      paid = _useState6[0],\n      setPaid = _useState6[1];\n\n  useEffect(function () {\n    var currentEvent = {\n      event: props.route.params.eventId\n    };\n    ApiService.getEvent(currentEvent).then(function (events) {\n      setEvent(events);\n      return events;\n    }).then(function (event) {\n      return console.log('event', event);\n    });\n  }, []);\n  useEffect(function () {\n    var currentEvent = {\n      event: props.route.params.eventId\n    };\n    ApiService.getEvent(currentEvent).then(function (answer) {\n      return setPaid(answer[0].arcsPaid[props.route.params.user]);\n    });\n  }, []);\n  useEffect(function () {\n    var currentEvent = {\n      event: props.route.params.eventId\n    };\n    ApiService.getEvent(currentEvent).then(function (users) {\n      console.log('users', users);\n      return users;\n    }).then(function (users) {\n      return setEventUsers(users[0].arcNameArray.map(function (a) {\n        return [a.firstName, a.lastName, a.email];\n      }));\n    });\n  }, []);\n\n  function payNow(event, user) {\n    ApiService.updatePayment(event, user);\n  }\n\n  var details = event.map(function (event) {\n    return _jsxs(View, {\n      children: [_jsxs(View, {\n        style: styles.header,\n        children: [_jsx(Text, {\n          style: styles.title,\n          children: event.eventName\n        }), _jsx(Image, {\n          style: styles.logo,\n          source: require(\"../assets/logohq.png\")\n        })]\n      }), _jsx(Text, {\n        style: styles.date,\n        children: event.date\n      }), _jsx(Text, {\n        style: styles.venue,\n        children: event.venue\n      }), _jsxs(View, {\n        style: styles.totalCostWrapper,\n        children: [_jsxs(Text, {\n          style: styles.totalCost,\n          children: [\"\\xA3\", event.totalCost]\n        }), _jsx(Text, {\n          style: styles.totalCostBlurb,\n          children: \"Total Bill\"\n        })]\n      }), _jsxs(View, {\n        style: styles.foodCostWrapper,\n        children: [_jsxs(Text, {\n          style: styles.foodCost,\n          children: [\"\\xA3\", event.foodCost]\n        }), _jsx(Text, {\n          style: styles.foodCostBlurb,\n          children: \"Food Bill\"\n        })]\n      }), _jsxs(View, {\n        style: styles.foodCostWrapper,\n        children: [_jsxs(Text, {\n          style: styles.foodCost,\n          children: [\"\\xA3\", event.drinksCost]\n        }), _jsx(Text, {\n          style: styles.drinkCostBlurb,\n          children: \"Drinks Bill\"\n        })]\n      })]\n    }, event._id);\n  });\n  var myArc = eventUsers.filter(function (a) {\n    return a[2] === props.route.params.user;\n  }).map(function (user, i) {\n    return _jsxs(View, {\n      style: styles.me,\n      children: [_jsxs(Text, {\n        style: styles.textMe,\n        children: [\"You \", event[0].arcsPaid[user[2]] ? 'paid' : 'owe', \" \\xA3\", event[0].arcs[user[2]]]\n      }), _jsxs(Text, {\n        style: styles.textBlurbMe,\n        children: [\"for \", event[0].arcItems[props.route.params.user].length === 2 ? 'Food and Drink' : event[0].arcItems[props.route.params.user] === 'F' ? 'Food Only' : 'Drinks only']\n      }), _jsx(View, {}), _jsx(View, {\n        style: paid ? styles.payNowButtonClicked : styles.payNowButton,\n        children: _jsx(Button, {\n          color: \"black\",\n          title: paid ? 'Paid!' : 'Pay Now',\n          onPress: function onPress() {\n            payNow(event[0]._id, props.route.params.user);\n          }\n        })\n      })]\n    }, user[2]);\n  });\n  var friendsArc = eventUsers.filter(function (a) {\n    return a[2] !== props.route.params.user;\n  }).map(function (user, i) {\n    return _jsxs(View, {\n      style: styles.othersWrapper,\n      children: [_jsxs(Text, {\n        style: styles.othersBill,\n        children: [event[0].arcFirstNames[user[2]] + ' ' + user[1], \" \", event[0].arcsPaid[user[2]] ? 'paid' : 'owes', \" \\xA3\", event[0].arcs[user[2]]]\n      }), _jsxs(Text, {\n        style: styles.othersBlurb,\n        children: [\"for \", event[0].arcItems[user[2]].length === 2 ? 'Food and Drink' : event[0].arcItems[user[2]] === 'F' ? 'Food' : 'Drinks']\n      })]\n    }, user[2]);\n  });\n  return _jsx(ScrollView, {\n    children: _jsxs(View, {\n      style: styles.container,\n      children: [details, props.route.params.user == !event[0].creator ? myArc : _jsx(Text, {\n        style: styles.creator,\n        children: \"You Created the Event\"\n      }), friendsArc ? friendsArc : 'hi you', _jsx(View, {\n        style: styles.buttonBack,\n        children: _jsx(Button, {\n          color: \"white\",\n          title: \"Back to Events\",\n          onPress: function onPress() {\n            navigation.goBack();\n          }\n        })\n      })]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    height: 1500,\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    backgroundColor: \"rgb(20,20,30)\"\n  },\n  title: {\n    marginLeft: 30,\n    alignItems: 'center',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    width: 200,\n    color: '#C996D4',\n    fontSize: 40,\n    flexWrap: 'wrap',\n    fontWeight: 'bold'\n  },\n  venue: {\n    borderTopColor: '#D3D3D3',\n    borderTopWidth: 2,\n    color: 'white',\n    marginLeft: 20,\n    marginTop: 10,\n    marginBottom: 10,\n    fontSize: 30,\n    fontWeight: 'bold'\n  },\n  date: {\n    color: 'white',\n    marginLeft: 20,\n    marginTop: 15,\n    fontSize: 18,\n    fontStyle: 'italic'\n  },\n  totalCostWrapper: {\n    flexDirection: 'row'\n  },\n  totalCostBlurb: {\n    color: '#a9a9a9',\n    marginLeft: 20,\n    marginTop: 10,\n    fontSize: 25,\n    fontStyle: 'italic'\n  },\n  totalCost: {\n    color: '#D3D3D3',\n    marginLeft: 20,\n    marginTop: 10,\n    fontSize: 25,\n    fontStyle: 'italic',\n    fontWeight: 'bold'\n  },\n  foodCostWrapper: {\n    flexDirection: 'row'\n  },\n  foodCostBlurb: {\n    color: '#a9a9a9',\n    marginLeft: 20,\n    marginTop: 10,\n    fontSize: 25,\n    fontStyle: 'italic'\n  },\n  drinkCostBlurb: {\n    color: '#a9a9a9',\n    marginLeft: 20,\n    marginTop: 10,\n    marginBottom: 12,\n    fontSize: 25,\n    fontStyle: 'italic'\n  },\n  foodCost: {\n    color: '#D3D3D3',\n    marginLeft: 20,\n    marginTop: 10,\n    fontSize: 25,\n    fontStyle: 'italic',\n    fontWeight: 'bold'\n  },\n  cost: {\n    color: '#D3D3D3',\n    marginLeft: 20,\n    marginTop: 10,\n    fontSize: 25,\n    fontStyle: 'italic',\n    fontWeight: 'bold'\n  },\n  me: {\n    marginTop: 20,\n    borderTopColor: '#C996D4',\n    borderBottomColor: '#C996D4',\n    borderTopWidth: 2,\n    fontWeight: 'bold',\n    width: '60%',\n    alignItems: 'center'\n  },\n  textMe: {\n    marginTop: 20,\n    color: 'white',\n    fontSize: 25\n  },\n  textBlurbMe: {\n    fontSize: 20,\n    color: 'white',\n    marginTop: 3,\n    fontStyle: 'italic'\n  },\n  split: {},\n  logo: {\n    width: 150,\n    height: 150,\n    marginLeft: 30\n  },\n  header: {\n    flexDirection: 'row',\n    width: 400,\n    height: 150,\n    marginTop: 25,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 0,\n    paddingBottom: 0,\n    borderBottomColor: '#C996D4',\n    borderTopColor: 'rgb(20,20,30)',\n    borderLeftColor: 'rgb(20,20,30)',\n    borderRightColor: 'rgb(20,20,30)',\n    borderWidth: 4\n  },\n  payNowButton: {\n    justifyContent: 'center',\n    width: 180,\n    marginTop: 20,\n    height: 40,\n    backgroundColor: '#29b6f6',\n    borderRadius: 4,\n    fontWeight: \"bold\",\n    marginBottom: 17\n  },\n  payNowButtonClicked: {\n    justifyContent: 'center',\n    width: 180,\n    marginTop: 20,\n    height: 40,\n    backgroundColor: 'white',\n    borderRadius: 4,\n    fontWeight: \"bold\",\n    marginBottom: 20\n  },\n  othersWrapper: {\n    marginTop: 20,\n    borderTopColor: '#C996D4',\n    borderBottomColor: '#C996D4',\n    borderTopWidth: 2,\n    width: '90%',\n    alignItems: 'center'\n  },\n  othersBill: {\n    marginTop: 13,\n    color: 'white',\n    fontSize: 15\n  },\n  othersBlurb: {\n    marginTop: 5,\n    color: '#a9a9a9',\n    fontSize: 12\n  },\n  buttonBack: {\n    justifyContent: 'center',\n    width: 150,\n    marginTop: 20,\n    height: 40,\n    backgroundColor: 'black',\n    borderRadius: 8,\n    fontWeight: \"bold\",\n    marginBottom: 20,\n    borderColor: 'grey',\n    borderWidth: 1\n  },\n  creator: {\n    backgroundColor: \"rgb(20,20,30)\",\n    marginBottom: 10,\n    marginTop: 5,\n    borderColor: '#187bcd',\n    color: '#187bcd',\n    borderWidth: 1,\n    padding: 4,\n    borderRadius: 3\n  }\n});","map":{"version":3,"sources":["/Users/gooseeduardos/Development/codeWorks/senior/arc-app/client/arc/screens/SingleEventScreen.tsx"],"names":["React","useEffect","useState","ApiService","useNavigation","SingleEventScreen","props","navigation","console","log","event","setEvent","eventUsers","setEventUsers","paid","setPaid","currentEvent","route","params","eventId","getEvent","then","events","answer","arcsPaid","user","users","arcNameArray","map","a","firstName","lastName","email","payNow","updatePayment","details","styles","header","title","eventName","logo","require","date","venue","totalCostWrapper","totalCost","totalCostBlurb","foodCostWrapper","foodCost","foodCostBlurb","drinksCost","drinkCostBlurb","_id","myArc","filter","i","me","textMe","arcs","textBlurbMe","arcItems","length","payNowButtonClicked","payNowButton","friendsArc","othersWrapper","othersBill","arcFirstNames","othersBlurb","container","creator","buttonBack","goBack","StyleSheet","create","height","alignItems","justifyContent","backgroundColor","marginLeft","flexDirection","width","color","fontSize","flexWrap","fontWeight","borderTopColor","borderTopWidth","marginTop","marginBottom","fontStyle","cost","borderBottomColor","split","paddingBottom","borderLeftColor","borderRightColor","borderWidth","borderRadius","borderColor","padding"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { View, Text, Button, StyleSheet, Image, ScrollView } from 'react-native'\nimport ApiService from '../ApiService'\nimport { useNavigation } from '@react-navigation/native';\nimport { color } from 'native-base/lib/typescript/theme/styled-system';\n// import Icon from 'react-native-ionicons'\n\n\ninterface SingleEventScreenProps {\n  user: string\n}\n\nexport default function SingleEventScreen(props:any) {\n\n  const navigation = useNavigation();\n\n\n  console.log('props', props)\n\n\n\nconst [event, setEvent] = useState<any[]>([])\nconst [eventUsers, setEventUsers] = useState<any[]>([])\nconst [paid, setPaid] = useState(false)\n\n// console.log(props.route.params.user)\n\nuseEffect(() => {\n  const currentEvent = {event: props.route.params.eventId}\n  ApiService.getEvent(currentEvent)\n  .then(events => {\n    setEvent(events);\n    return events\n  })\n  .then(event => console.log('event',event))\n  // .then(events => {\n  //   setPaid(events[0].arcsPaid[props.route.params.user])\n  //   return events;\n  // })\n  // .then((users) => setEventUsers(users[0].arcNameArray))\n},[]\n)\n\nuseEffect(() => {\n  const currentEvent = {event: props.route.params.eventId}\n  ApiService.getEvent(currentEvent)\n  .then(answer => setPaid(answer[0].arcsPaid[props.route.params.user]))\n},[]\n)\n\nuseEffect(() => {\n  const currentEvent = {event: props.route.params.eventId}\n  ApiService.getEvent(currentEvent)\n  .then(users => {console.log('users',users);\n  return users})\n  .then((users) => setEventUsers(users[0].arcNameArray.map(a => [a.firstName, a.lastName, a.email])))\n},[]\n)\n\n\nfunction payNow(event:any, user:any) {\n  ApiService.updatePayment(event, user)\n}\n\n//event details\nconst details = event.map((event) => {\n  return <View key={event._id}>\n      <View style={styles.header}>\n           <Text style={styles.title}>{event.eventName}</Text>\n          <Image style={styles.logo} source={require('../assets/logohq.png')} />\n      </View>\n         <Text style={styles.date}>{event.date}</Text>\n         <Text style={styles.venue}>{event.venue}</Text>\n         <View style={styles.totalCostWrapper}>\n         <Text style={styles.totalCost}>£{event.totalCost}</Text>\n         <Text style={styles.totalCostBlurb}>Total Bill</Text>\n         </View>\n         <View style={styles.foodCostWrapper}>\n         <Text style={styles.foodCost}>£{event.foodCost}</Text>\n         <Text style={styles.foodCostBlurb}>Food Bill</Text>\n         </View>\n         {/* <Text style={styles.split}>Split between X people</Text> */}\n         <View style={styles.foodCostWrapper}>\n         <Text style={styles.foodCost}>£{event.drinksCost}</Text>\n         <Text style={styles.drinkCostBlurb}>Drinks Bill</Text>\n         </View>\n         {/* <Text style={styles.split}>Split between X people</Text> */}\n\n  </View>\n})\n\n\n\n\nconst myArc = eventUsers.filter(a => a[2] === props.route.params.user).map((user:any, i) => {\n\n\n   return <View style={styles.me} key={user[2]}>\n\n   <Text style={styles.textMe}>You {event[0].arcsPaid[user[2]] ? 'paid' : 'owe'} £{event[0].arcs[user[2]]}</Text>\n   <Text style={styles.textBlurbMe}>for {event[0].arcItems[props.route.params.user].length === 2 ? 'Food and Drink' : event[0].arcItems[props.route.params.user] === 'F' ? 'Food Only' : 'Drinks only'}</Text>\n   <View>\n\n   </View>\n   <View style={paid ? styles.payNowButtonClicked : styles.payNowButton }>\n      <Button\n      color='black'\n      title={paid ? 'Paid!' : 'Pay Now'}\n      onPress={() => {\n        payNow(event[0]._id, props.route.params.user)\n      }\n    } />\n    </View>\n\n   </View>\n\n })\n\n\n\n   const friendsArc = eventUsers.filter(a => a[2] !== props.route.params.user).map((user:any, i) => {\n      return <View style={styles.othersWrapper} key={user[2]}>\n      <Text style={styles.othersBill}>{event[0].arcFirstNames[user[2]] + ' ' + user[1]} {event[0].arcsPaid[user[2]] ? 'paid' : 'owes'} £{event[0].arcs[user[2]]}</Text>\n      <Text style={styles.othersBlurb}>for {event[0].arcItems[user[2]].length === 2 ? 'Food and Drink' : event[0].arcItems[user[2]] === 'F' ? 'Food' : 'Drinks'}</Text>\n      </View>\n\n    })\n\n\n\n  return (\n    <ScrollView>\n\n    <View style={styles.container}>\n      {/* <View style={styles.header}>\n      <Image style={styles.logo} source={require('../assets/logohq.png')} />\n    </View> */}\n      {details}\n      {props.route.params.user ==! event[0].creator ? myArc : <Text style={styles.creator}>You Created the Event</Text>}\n      {friendsArc ? friendsArc : 'hi you'}\n      <View style={styles.buttonBack}>\n\n      <Button color='white'\n      title='Back to Events'\n      onPress={() => {\n        navigation.goBack()\n      }}/>\n\n      </View>\n    </View>\n      </ScrollView>\n  )\n}\n// function goBack() {\n//   throw new Error('Function not implemented.');\n// }\n\n\nconst styles = StyleSheet.create({\n  container: {\n    // flex: 1,\n    // width: 280,\n    height:1500,\n    alignItems:'center',\n    justifyContent: 'flex-start',\n    backgroundColor: \"rgb(20,20,30)\"\n  },\n  title: {\n    marginLeft:30,\n    alignItems: 'center',\n    flexDirection:'row',\n    justifyContent: 'center',\n    width:200,\ncolor: '#C996D4',\nfontSize:40,\nflexWrap:'wrap',\nfontWeight:'bold'\n// color:'#C996D4'\n  },\n  venue: {\n    borderTopColor:'#D3D3D3',\n    borderTopWidth:2,\n    color: 'white',\n    marginLeft:20,\n    marginTop:10,\n    marginBottom:10,\n    fontSize:30,\n    fontWeight:'bold'\n    // height:100\n\n  },\n  date: {\n    color: 'white',\n    marginLeft:20,\n    marginTop:15,\n    fontSize:18,\n    fontStyle:'italic'\n\n  },\n  totalCostWrapper: {\n    flexDirection:'row'\n  },\n  totalCostBlurb: {\n    color: '#a9a9a9',\n    marginLeft:20,\n    marginTop:10,\n    fontSize:25,\n    fontStyle:'italic',\n    // fontWeight:'bold'\n  },\n  totalCost: {\n    color: '#D3D3D3',\n    marginLeft:20,\n    marginTop:10,\n    fontSize:25,\n    fontStyle:'italic',\n    fontWeight:'bold'\n    // color: 'w',\n  },\n  foodCostWrapper: {\n    flexDirection:'row'\n  },\n  foodCostBlurb: {\n    color: '#a9a9a9',\n    marginLeft:20,\n    marginTop:10,\n    fontSize:25,\n    fontStyle:'italic',\n    // fontWeight:'bold'\n  },\n  drinkCostBlurb: {\n    color: '#a9a9a9',\n    marginLeft:20,\n    marginTop:10,\n    marginBottom:12,\n    fontSize:25,\n    fontStyle:'italic',\n    // fontWeight:'bold'\n  },\n  foodCost: {\n    color: '#D3D3D3',\n    marginLeft:20,\n    marginTop:10,\n    fontSize:25,\n    fontStyle:'italic',\n    fontWeight:'bold'\n    // color: 'w',\n  },\n  cost: {\n    color: '#D3D3D3',\n    marginLeft:20,\n    marginTop:10,\n    fontSize:25,\n    fontStyle:'italic',\n    fontWeight:'bold'\n\n  },\n  me: {\n    marginTop:20,\n    borderTopColor: '#C996D4',\n    borderBottomColor: '#C996D4',\n    borderTopWidth: 2,\n    fontWeight:'bold',\n    // borderBottomWidth: 2,\n    width:'60%',\n    alignItems: 'center'\n\n  },\n\n  textMe: {\n    marginTop:20,\n    color: 'white',\n    // marginLeft:20,\n    // marginTop:10,\n    fontSize:25,\n\n  },\n  textBlurbMe: {\n    fontSize:20,\n    color: 'white',\n    marginTop:3,\n    fontStyle:'italic',\n  },\n  split: {\n\n  },\n  logo: {\n    width:150,\n    height:150,\n    marginLeft:30\n\n    // marginLeft:185\n    // top:20,\n  },\n  header:{\n    flexDirection:'row',\n    // flexWrap: 'wrap',\n    // height:120,\n    width:400,\n    height:150,\n    marginTop:25,\n    justifyContent: 'center',\n    alignItems:'center',\n    marginBottom:0,\n    paddingBottom:0,\n    borderBottomColor:'#C996D4',\n    borderTopColor:'rgb(20,20,30)',\n    borderLeftColor:'rgb(20,20,30)',\n    borderRightColor:'rgb(20,20,30)',\n    // borderBottom\n    borderWidth:4\n  },\n\n  payNowButton: {\n      justifyContent: 'center',\n      width: 180,\n      marginTop: 20,\n      height: 40,\n      backgroundColor: '#29b6f6',\n      borderRadius: 4,\n      fontWeight: \"bold\",\n      marginBottom: 17\n    },\n  payNowButtonClicked: {\n      justifyContent: 'center',\n      width: 180,\n      marginTop: 20,\n      height: 40,\n      backgroundColor: 'white',\n      borderRadius: 4,\n      fontWeight: \"bold\",\n      marginBottom: 20\n    },\n    othersWrapper: {\n      marginTop:20,\n      borderTopColor: '#C996D4',\n      borderBottomColor: '#C996D4',\n      borderTopWidth: 2,\n      // borderBottomWidth: 2,\n      width:'90%',\n      alignItems: 'center'\n\n    },\n    othersBill: {\n      marginTop:13,\n    color: 'white',\n    // marginLeft:20,\n    // marginTop:10,\n    fontSize:15,\n    },\n    othersBlurb: {\n      marginTop:5,\n    color: '#a9a9a9',\n    // marginLeft:20,\n    // marginTop:10,\n    fontSize:12,\n    },\n    buttonBack: {\n      justifyContent: 'center',\n    width: 150,\n    marginTop: 20,\n    height: 40,\n    backgroundColor: 'black',\n    borderRadius: 8,\n    fontWeight: \"bold\",\n    marginBottom: 20,\n    borderColor:'grey',\n    borderWidth: 1\n    },\n    creator: {\n      backgroundColor:\"rgb(20,20,30)\",\n    marginBottom:10,\n    marginTop:5,\n    borderColor:'#187bcd',\n    color:'#187bcd',\n    borderWidth:1,\n    padding:4,\n    borderRadius: 3,\n    }\n\n\n\n\n})\n\n\n"]},"metadata":{},"sourceType":"module"}